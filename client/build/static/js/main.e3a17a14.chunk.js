(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{409:function(e,t,n){},568:function(e,t,n){},569:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(36),o=n.n(c),s=n(15),i=n(59),u=n(212),d=n(49),l=n(9),j=n(321),b=n.n(j),O=n(673),p=n(677),h=n(675),m=n(676),f=n(636),x=n(674),g=n(356),y=n(672),v=n(662),w=n(678),C=n(22),S=n.n(C),E=n(33),T=function(){var e=Object(E.a)(S.a.mark((function e(t){var n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.ok){e.next=5;break}return e.next=3,t.json();case 3:throw n=e.sent,Error(n.error);case 5:return e.next=7,t.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(E.a)(S.a.mark((function e(t){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/login",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:t.password,username:t.username})}).then(T).then((function(e){return e})).catch((function(e){throw new Error(e.message)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(E.a)(S.a.mark((function e(t){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/register",{body:JSON.stringify(t),headers:{"Content-Type":"application/json"},method:"POST"}).then(T).then((function(e){return e})).catch((function(e){throw new Error(e.message)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=n(1),_=Object(g.a)(),D=function(){var e=Object(d.f)(),t=Object(a.useState)(!1),n=Object(l.a)(t,2),r=n[0],c=n[1];return Object(k.jsx)(y.a,{theme:_,children:Object(k.jsxs)(m.a,{component:"main",maxWidth:"xs",children:[Object(k.jsx)(f.a,{}),Object(k.jsxs)(p.a,{sx:{alignItems:"center",display:"flex",flexDirection:"column",marginTop:8},children:[Object(k.jsx)(O.a,{sx:{m:1,bgcolor:"secondary.main"},children:Object(k.jsx)(b.a,{})}),Object(k.jsx)(w.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(k.jsxs)(p.a,{component:"form",noValidate:!0,onSubmit:function(t){t.preventDefault();var n=new FormData(t.currentTarget);I({password:n.get("password"),username:n.get("username")}).then((function(){e.push("/login")})).catch((function(e){console.error("Registration failed. Reason: ".concat(e.message)),c(!0)}))},sx:{mt:3},children:[Object(k.jsxs)(x.a,{container:!0,spacing:2,children:[Object(k.jsx)(x.a,{item:!0,xs:12,children:Object(k.jsx)(v.a,{error:r,required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoComplete:"username"})}),Object(k.jsx)(x.a,{item:!0,xs:12,children:Object(k.jsx)(v.a,{error:r,required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"new-password"})})]}),Object(k.jsx)(h.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Sign Up"}),Object(k.jsx)(x.a,{container:!0,justifyContent:"flex-end",children:Object(k.jsx)(x.a,{item:!0,children:Object(k.jsx)(i.b,{to:"/login",children:"Already have an account? Sign in"})})})]})]})]})})},A=n(640),R=n(661),L=n(666),F=n(679),U=function(e){return{type:"SET_USER_LOGGED_IN",payload:e}},H=Object(g.a)(),P=function(){var e=Object(d.f)(),t=Object(s.b)(),n=Object(a.useState)(!1),r=Object(l.a)(n,2),c=r[0],o=r[1],u=function(){var n=Object(E.a)(S.a.mark((function n(a){var r;return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a.preventDefault(),r=new FormData(a.currentTarget),n.next=4,N({password:r.get("password"),username:r.get("username")}).then((function(n){localStorage.setItem("token",n.token),t(U({username:n.username,isLoggedIn:!0})),o(!1),e.push("/")})).catch((function(e){o(!0)}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(k.jsx)(y.a,{theme:H,children:Object(k.jsxs)(m.a,{component:"main",maxWidth:"xs",children:[Object(k.jsx)(f.a,{}),Object(k.jsxs)(p.a,{sx:{alignItems:"center",display:"flex",flexDirection:"column",marginTop:8},children:[Object(k.jsx)(O.a,{sx:{m:1,bgcolor:"secondary.main"}}),Object(k.jsx)(w.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(k.jsxs)(p.a,{component:"form",onSubmit:u,noValidate:!0,sx:{mt:1},children:[Object(k.jsx)(v.a,{error:c,margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoComplete:"username",autoFocus:!0}),Object(k.jsx)(v.a,{error:c,margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),Object(k.jsx)(F.a,{control:Object(k.jsx)(L.a,{value:"remember",color:"primary"}),label:"Remember me"}),Object(k.jsx)(h.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Sign In"}),Object(k.jsxs)(x.a,{container:!0,children:[Object(k.jsx)(x.a,{item:!0,xs:!0,children:Object(k.jsx)(i.b,{to:"#",children:"Forgot password?"})}),Object(k.jsx)(x.a,{item:!0,children:Object(k.jsx)(i.b,{to:"/register",children:"Don't have an account? Sign Up"})})]})]})]})]})})},G=(n(409),n(651)),W=n(24),B=n(664),q=n(670),z=n(647),K=function(){var e=Object(E.a)(S.a.mark((function e(t){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/categories/new",{body:JSON.stringify(t),headers:{"Content-Type":"application/json","x-access-token":localStorage.getItem("token")},method:"POST",mode:"cors"}).then(T).then((function(e){return e})).catch((function(e){throw new Error(e.message)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(E.a)(S.a.mark((function e(t){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("categories/delete/".concat(t),{headers:{"Content-Type":"application/json","x-access-token":localStorage.getItem("token")},method:"DELETE",mode:"cors"}).then(T).then((function(e){return e})).catch((function(e){throw new Error(e.message)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(E.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("categories/show",{headers:{"x-access-token":localStorage.getItem("token")}}).then(T).then((function(e){return e})).catch((function(e){throw new Error(e.message)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J={type:"",name:"",budget:0,_id:""},V={category_id:"",newCategory:J,allCategories:{incomeCategories:[],expenseCategories:[],noneCategory:J}},X=function(e,t){return{type:t?"ADD_INCOME_CATEGORY":"ADD_EXPENSE_CATEGORY",payload:Object(W.a)(Object(W.a)({},V),{},{newCategory:e})}},$={title:null,message:null},Q=function(e,t){return{type:"SHOW_ERROR",payload:{title:e,message:t}}},Z=function(){return{type:"HIDE_ERROR",payload:$}},ee=function(e){return{type:"SHOW_SUCCESS",payload:{message:e}}},te=n(100),ne=te.c({budget:te.b().positive().integer().required(),name:te.d().min(1).max(20).required()}),ae=te.c({amount:te.b().positive().required().test("Decimal","Amount must be int or decimal with max precision 2",(function(e){return/^\d+(\.\d{1,2})?$/.test(e)})),date:te.a().required(),description:te.d().min(1).max(60).required(),name:te.d().min(1).max(40).required()}),re=Object(A.a)({root:{padding:"1rem",width:"100%",height:"8rem"},formLayout:{display:"flex",flexDirection:"row"},errorText:{color:"red",fontSize:"0.8rem"},buttonLayout:{height:"100%",display:"flex",flexDirection:"column",padding:"1rem",justifyContent:"space-between",width:"8rem"},textFields:{display:"flex",flexDirection:"column"},incomeButton:{backgroundColor:"green"},expensesButton:{backgroundColor:"red"}}),ce=function(){var e=re(),t=Object(a.useState)(!1),n=Object(l.a)(t,2),r=n[0],c=n[1],o=Object(a.useState)(!0),i=Object(l.a)(o,2),u=i[0],d=i[1],j=Object(a.useState)({budget:1,name:"",type:""}),b=Object(l.a)(j,2),O=b[0],p=b[1],h=Object(s.b)(),m=function(){var e=Object(E.a)(S.a.mark((function e(t){var n,a,o;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=O.name,a=O.budget,o=O.type,e.prev=2,e.next=5,ne.validate({name:n,budget:a});case 5:e.next=12;break;case 7:return e.prev=7,e.t0=e.catch(2),console.error(e.t0.message),c(!0),e.abrupt("return");case 12:r&&c(!1),K({name:n,budget:a,type:o}).then((function(e){h(X(e.addedItem,u)),h(ee("New category added.")),setTimeout((function(){h({type:"HIDE_SUCCESS",payload:{message:""}})}),4e3)})).catch((function(e){h(Q("Couldn't make API request.",e.message))})),p({budget:1,name:"",type:""});case 15:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}(),f=function(e){null!==e.target&&("categoryNameField"===e.target.name?p(Object(W.a)(Object(W.a)({},O),{},{name:e.target.value})):/^\d+$/.test(e.target.value)||""===e.target.value?(p(Object(W.a)(Object(W.a)({},O),{},{budget:e.target.value})),r&&c(!1)):(""!==e.target.value&&c(!0),p(Object(W.a)(Object(W.a)({},O),{},{budget:e.target.value}))))};return Object(a.useEffect)((function(){var e=u?"INCOME":"EXPENSE";p(Object(W.a)(Object(W.a)({},O),{},{type:e}))}),[u]),Object(k.jsx)(B.a,{className:e.root,boxShadow:4,children:Object(k.jsxs)("form",{onSubmit:m,className:e.formLayout,children:[Object(k.jsxs)("div",{className:e.textFields,children:[Object(k.jsx)(q.a,{error:r,label:"Category Name",name:"categoryNameField",value:O.name,onChange:f}),!u&&Object(k.jsx)(q.a,{error:r,label:"Monthly Budget (\u20ac)",name:"budgetValueField",value:O.budget,onChange:f})]}),Object(k.jsxs)("div",{className:e.buttonLayout,children:[Object(k.jsx)(z.a,{type:"submit",variant:"contained",color:"primary",children:"Add"}),Object(k.jsx)(z.a,{className:u?e.incomeButton:e.expensesButton,variant:"contained",color:"primary",onClick:function(){d(!u)},children:u?"Income":"Expense"})]})]})})},oe=n(646),se=n(648),ie=n(649),ue=n(650),de=n(328),le=n.n(de),je=function(){var e=Object(E.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("transactions/export",{method:"POST",mode:"cors",headers:{"x-access-token":localStorage.getItem("token")}}).then(function(){var e=Object(E.a)(S.a.mark((function e(t){var n,a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.blob();case 2:n=e.sent,(a=document.createElement("a")).href=URL.createObjectURL(n),a.download="exported_"+(new Date).toISOString().split("T")[0]+".csv",a.click(),setTimeout((function(){return URL.revokeObjectURL(a.href)}),0);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),be=function(){var e=Object(E.a)(S.a.mark((function e(t){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("transactions/delete",{body:JSON.stringify(t),method:"DELETE",mode:"cors",headers:{"Content-Type":"application/json","x-access-token":localStorage.getItem("token")}}).then(T).then((function(e){return e})).catch((function(e){throw new Error(e.message)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Oe=function(){var e=Object(E.a)(S.a.mark((function e(t){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/transactions/new",{body:JSON.stringify(t),headers:{"Content-Type":"application/json","x-access-token":localStorage.getItem("token")},method:"POST",mode:"cors"}).then(T).then((function(e){return e})).catch((function(e){throw new Error(e.message)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),pe=function(){var e=Object(E.a)(S.a.mark((function e(t,n){var a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="/transactions/update/".concat(n),e.next=3,fetch(a,{method:"PUT",mode:"cors",headers:{"Content-Type":"application/json","x-access-token":localStorage.getItem("token")},body:JSON.stringify({newCategoryId:t})}).then(T).then((function(e){return e})).catch((function(e){throw new Error(e.message)}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),he=function(){var e=Object(E.a)(S.a.mark((function e(t,n){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/transactions/updatecategories/".concat(n),{method:"PUT",mode:"cors",headers:{"Content-Type":"application/json","x-access-token":localStorage.getItem("token")},body:JSON.stringify({newCategoryId:t})}).then(T).then((function(e){return e})).catch((function(e){throw new Error(e.message)}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),me=Object(A.a)({display:{display:"flex"},dontDisplay:{display:"none"}}),fe=function(e){var t=me(),n=Object(a.useState)(!1),r=Object(l.a)(n,2),c=r[0],o=r[1],i=Object(s.b)(),u=e.element,d=u.name,j=u._id,b=Object(s.c)((function(e){return e.categoryReducer})).noneCategory,O=function(){var e=Object(E.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he(b._id,j).then(Object(E.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M(j).then((function(){var e;i((e=j,{type:"DELETE_CATEGORY",payload:Object(W.a)(Object(W.a)({},V),{},{category_id:e})})),i(ee("Item deleted and transactions updated!")),setTimeout((function(){return{type:"HIDE_SUCCESS",payload:{message:""}}}),4e3)})).catch((function(e){i(Q("Could not remove category.",e.message))}));case 2:case"end":return e.stop()}}),e)})))).catch((function(e){i(Q("Could not change transactions' category to NONE",e.message))}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(k.jsxs)(se.a,{button:!0,onMouseEnter:function(){return o(!0)},onMouseLeave:function(){return o(!1)},children:[Object(k.jsx)(ie.a,{primary:d}),Object(k.jsx)(z.a,{className:c?t.display:t.dontDisplay,onClick:O,variant:"contained",color:"secondary",startIcon:Object(k.jsx)(le.a,{}),children:"Delete"})]})},xe=Object(A.a)({root:{background:"linear-gradient(180deg , #3f51b5 30%, rgb(0 0 0 / 0%) 100%)",width:"100%"}}),ge=function(e){var t=xe(),n=e.listTitle,a=e.listArr,r=Object(s.b)();return Object(k.jsx)(B.a,{className:t.root,children:Object(k.jsxs)(oe.a,{children:[Object(k.jsx)(se.a,{children:Object(k.jsx)(ie.a,{primary:n})}),Object(k.jsx)(ue.a,{}),function(){try{return a.map((function(e){return Object(k.jsx)(fe,{element:e},e._id)}))}catch(e){r(Q("Rendering categories failed.",e.message)),setTimeout((function(){r(Z())}),4e3)}}()]})})};ge.defaultProps={listTitle:"List title unset"};var ye=ge,ve=function(e){return{payload:e,type:"SET_BANNER_TITLE"}},we=function(){var e=Object(s.c)((function(e){return e.categoryReducer})),t=e.incomeCategories,n=e.expenseCategories,r=Object(s.b)();return Object(a.useEffect)((function(){r(ve({bannerTitle:"Categories"}))}),[]),Object(k.jsxs)(G.a,{container:!0,spacing:3,children:[Object(k.jsx)(G.a,{item:!0,xs:12,md:12,children:Object(k.jsx)(G.a,{container:!0,spacing:3,children:Object(k.jsx)(G.a,{item:!0,xs:12,md:6,children:Object(k.jsx)(ce,{})})})}),Object(k.jsx)(G.a,{item:!0,xs:12,md:6,children:Object(k.jsx)(ye,{listTitle:"Income Categories",listArr:t})}),Object(k.jsx)(G.a,{item:!0,xs:12,md:6,children:Object(k.jsx)(ye,{listTitle:"Expenses Categories",listArr:n})})]})},Ce=n(192),Se=n(329),Ee=(n(510),n(511),n(16)),Te=function(e){return{type:"SHOW_INFO",payload:e}},Ne=function(){var e=Object(E.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("transactions/show",{headers:{"x-access-token":localStorage.getItem("token")}}).then((function(e){if(200===e.status)return e.json();if(500===e.status)throw new Error(e.error);throw new Error("Unknown request status code.")})).catch((function(e){throw new Error(e.message)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ie=function(){var e=Object(s.b)(),t=Object(a.useState)([]),n=Object(l.a)(t,2),r=n[0],c=n[1],o=!1;return Object(a.useEffect)((function(){function t(){return(t=Object(E.a)(S.a.mark((function t(){return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ne().then((function(t){0===t.transactionsList.length&&(e(Te("Did not find any transactions in the database.")),setTimeout((function(){return e({type:"HIDE_INFO",payload:""})}),4e3)),c(Object(Ee.a)(t.transactionsList))})).catch((function(e){o=!0}));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]),{transactionsList:r,error:o}};var ke={allTransactions:[],newCategoryId:"",transactionName:""},_e=function(e,t){return{type:"UPDATE_TRANSACTIONS_CAT",payload:Object(W.a)(Object(W.a)({},ke),{},{transactionName:e,newCategoryId:t})}},De=function(e){return{type:"LOAD_TRANSACTIONS",payload:Object(W.a)(Object(W.a)({},ke),{},{allTransactions:e})}};function Ae(e,t,n){var a=t.getTime(),r=n.getTime();return e.filter((function(e){return function(e,t,n){var a=new Date(e).getTime();return t<=a&&a<=n}(e.date,a,r)}))}var Re=function(){var e=Object(s.b)(),t=Ie(),n=t.transactionsList,r=t.error,c=Object(a.useState)([{endDate:Object(Ce.default)(new Date,7),key:"selection",startDate:new Date}]),o=Object(l.a)(c,2),i=o[0],u=o[1];return function(e,t){var n=Object(a.useRef)(!0);Object(a.useEffect)((function(){if(!n.current)return e();n.current=!1}),t)}((function(){if(!r){var t=i[0],a=t.endDate,c=t.startDate,o=t.key;e({payload:{endDateISO:a.toISOString(),key:o,startDateISO:c.toISOString()},type:"CHANGE_DATERANGE"});var s=Ae(n,c,a);e(De(s))}}),[i]),Object(k.jsx)(Se.DateRangePicker,{weekStartsOn:1,ranges:i,onChange:function(e){return u([e.selection])}})},Le=n(652),Fe=n(653),Ue=n(657),He=n(343),Pe=n(344),Ge=n(177),We=n(174),Be=n(358),qe=function(e,t){var n=function(e){var t=e.map((function(e){return{name:e.name,pv:e.budget,uv:0}}));return{data:Object(Ee.a)(t),error:null}}(t),a=n.data;return e.forEach((function(e){if("string"===typeof e.category)return{data:[],error:"Cannot map unpopulated Transactions to Dashboard graph."};if("EXPENSE"===e.category.type)for(var t=ze(e.amount),n=e.category.name,r=0;r<a.length;r++){var c=a[r];if(c.name===n){var o=c.uv+t;c.uv=o;break}}})),{data:a,error:null}},ze=function(e){return"string"===typeof e?parseFloat(Math.abs(parseFloat(e)).toFixed(2)):parseFloat(Math.abs(e).toFixed(2))},Ke=function(){var e=Object(s.c)((function(e){return e.categoryReducer.expenseCategories})),t=function(e,t){return qe(e,t)}(Object(s.c)((function(e){return e.transactionReducer})),e),n=t.data,a=t.error,r=Object(s.b)();return a&&r(Q("Can not visualize expenses.",a)),Object(k.jsx)(Le.a,{width:"90%",height:300,children:Object(k.jsxs)(Fe.a,{data:n,children:[Object(k.jsx)(Ue.a,{strokeDasharray:"3 3"}),Object(k.jsx)(He.a,{dataKey:"name"}),Object(k.jsx)(Pe.a,{}),Object(k.jsx)(Ge.a,{}),Object(k.jsx)(We.a,{}),Object(k.jsx)(Be.a,{name:"Planned Budget",dataKey:"pv",fill:"#3159eb"}),Object(k.jsx)(Be.a,{name:"Actual Expenses",dataKey:"uv",fill:"#0fc6fc"})]})})},Me=n(347),Ye=n.n(Me),Je=n(345),Ve=n.n(Je),Xe=n(346),$e=n.n(Xe),Qe=n(348),Ze=n.n(Qe),et=n(658),tt=n(178),nt=Object(A.a)({root:{border:"solid",borderWidth:"1px",borderColor:"white",textAlign:"center",width:"100%",padding:10},value:{fontSize:"1.1rem"}}),at=function(e){var t=nt(),n=e.icon,a=e.text,r=e.value;return Object(k.jsxs)(et.a,{className:t.root,elevation:4,children:[n,Object(k.jsx)(tt.a,{gutterBottom:!0,variant:"body1",component:"h2",children:a}),Object(k.jsx)(tt.a,{gutterBottom:!0,variant:"h6",component:"h2",color:"primary",className:t.value,children:r})]})},rt=function(e){var t=0,n=0;e.forEach((function(e){if("string"===typeof e.category)return{income:"",expenses:"",savings:"",error:"Can not work with unpopulated Transactions."};switch(e.category.type){default:return;case"Income":return void(t+=function(e){var t=e.amount;if("string"===typeof t)return parseFloat(t);return t}(e));case"Expense":return void(n+=function(e){var t=e.amount;return"string"===typeof t?(t=t.replace("-",""),parseFloat(t)):Math.abs(t)}(e))}}));var a=t-n;return{income:t.toFixed(2).concat("\u20ac"),expenses:n.toFixed(2).concat("\u20ac"),savings:a.toFixed(2).concat("\u20ac"),error:null}};var ct=Object(A.a)({root:{alignContent:"center",marginRight:"5%",padding:10,width:"25%"}}),ot=function(){var e=ct(),t=Object(s.c)((function(e){return e.transactionReducer})),n=Object(s.c)((function(e){return e.categoryReducer.expenseCategories})),a=Object(s.b)(),r=function(e,t){var n=rt(e),a=n.income,r=n.expenses,c=n.savings,o=n.error,s=function(e){var t=0;return e.forEach((function(e){t+=e.budget})),{budgetTotal:t.toFixed(2).concat("\u20ac")}}(t),i=r+"/"+s.budgetTotal;return o?{income:a,expenses:r,savings:c,budget:i,error:o}:{budget:i,error:null,expenses:r,income:a,savings:c}}(t,n),c=r.income,o=r.expenses,i=r.budget,u=r.savings,d=r.error;return d&&a(Q("Can not get data for Summary panels.",d)),Object(k.jsxs)(G.a,{container:!0,spacing:3,className:e.root,children:[Object(k.jsx)(G.a,{item:!0,xs:12,md:6,children:Object(k.jsx)(at,{text:"Income",icon:Object(k.jsx)(Ve.a,{}),value:c})}),Object(k.jsx)(G.a,{item:!0,xs:12,md:6,children:Object(k.jsx)(at,{text:"Expenses",icon:Object(k.jsx)($e.a,{}),value:o})}),Object(k.jsx)(G.a,{item:!0,xs:12,md:6,children:Object(k.jsx)(at,{text:"Budget",icon:Object(k.jsx)(Ye.a,{}),value:i})}),Object(k.jsx)(G.a,{item:!0,xs:12,md:6,children:Object(k.jsx)(at,{text:"Savings",icon:Object(k.jsx)(Ze.a,{}),value:u})})]})},st=Object(A.a)({root:{display:"flex",flexDirection:"column",justifyContent:"space-evenly",border:"solid",borderWidth:"1px",borderColor:"white",textAlign:"center",width:"100%",padding:"20px"},header:{display:"flex",flexDirection:"row",marginBottom:"1%"}}),it=function(){var e=st(),t=Object(s.b)();return Object(a.useEffect)((function(){t(ve({bannerTitle:"Dashboard"}))}),[]),Object(k.jsxs)(B.a,{className:e.root,boxShadow:4,children:[Object(k.jsxs)("div",{className:e.header,children:[Object(k.jsx)(ot,{}),Object(k.jsx)(Re,{})]}),Object(k.jsx)(Ke,{})]})},ut=n(659),dt=n(146),lt=n.n(dt),jt=n(668),bt=n(660),Ot=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.errorReducer})),n=t.showError,a=t.message,r=t.title;return Object(k.jsx)(k.Fragment,{children:n&&Object(k.jsxs)(jt.a,{severity:"error",action:Object(k.jsx)(ut.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){e(Z())},children:Object(k.jsx)(lt.a,{})}),children:[Object(k.jsx)(bt.a,{children:r}),a]})})},pt=n(349),ht=n.n(pt),mt=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.infoReducer})),n=t.showInfo,a=t.message;return Object(k.jsx)(k.Fragment,{children:n&&Object(k.jsx)(jt.a,{icon:Object(k.jsx)(ht.a,{fontSize:"inherit"}),severity:"info",action:Object(k.jsx)(ut.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){e({type:"HIDE_INFO",payload:""})},children:Object(k.jsx)(lt.a,{})}),children:a})})},ft=n(350),xt=n.n(ft),gt=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.successReducer})),n=t.showSuccess,a=t.message;return Object(k.jsx)(k.Fragment,{children:n&&Object(k.jsx)(jt.a,{icon:Object(k.jsx)(xt.a,{fontSize:"inherit"}),severity:"success",action:Object(k.jsx)(ut.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){e({type:"HIDE_SUCCESS",payload:{message:""}})},children:Object(k.jsx)(lt.a,{})}),children:a})})},yt=function(){var e=Object(s.b)();return Object(a.useEffect)((function(){e(ve({bannerTitle:"Reports"}))}),[]),Object(k.jsx)("div",{children:"To be developed..."})},vt=Object(A.a)({button:{height:"100%",width:"100%"}});function wt(){return(wt=Object(E.a)(S.a.mark((function e(t,n){var a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=new FormData,null!==t.target.files[0]?a.append("csvUpload",t.target.files[0]):n(Q("Can't upload file.","e.target.files[0] is null.")),e.next=5,fetch("/transactions/addcsv",{body:a,method:"POST",mode:"cors",headers:{"x-access-token":localStorage.getItem("token")}}).then((function(e){if(200===e.status||204===e.status)return e.json();if(400===e.status||500===e.status)throw new Error(e.error);throw new Error("Unknown request status code")})).then((function(e){e.newItems?(n(ee(e.statusText)),setTimeout((function(){return n({type:"HIDE_SUCCESS",payload:{message:""}})}),4e3),n(De(e.newItems))):(n(Te(e.statusText)),setTimeout((function(){return n({type:"HIDE_INFO",payload:""})}),4e3))})).catch((function(e){n(Q("Uploading CSV file failed.",e.message))}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ct=function(){var e=vt(),t=Object(s.b)(),n=Object(s.c)((function(e){var t=e.transactionReducer;return{checkedTransactions:e.transactionCheckboxReducer,transactions:t}})),a=n.transactions,r=n.checkedTransactions;return Object(k.jsxs)(G.a,{container:!0,spacing:1,children:[Object(k.jsxs)(G.a,{item:!0,xs:1,children:[Object(k.jsx)("input",{name:"csvUpload",accept:".csv",style:{display:"none"},id:"raised-button-file",type:"file",onChange:function(e){return function(e,t){return wt.apply(this,arguments)}(e,t)}}),Object(k.jsx)("label",{htmlFor:"raised-button-file",children:Object(k.jsx)(z.a,{variant:"contained",component:"span",className:e.button,children:"Upload CSV"})})]}),Object(k.jsx)(G.a,{item:!0,xs:1,children:Object(k.jsx)(z.a,{variant:"contained",disabled:0===a.length,component:"span",className:e.button,onClick:je,children:"Export CSV"})}),Object(k.jsx)(G.a,{item:!0,xs:1,children:Object(k.jsx)(z.a,{variant:"contained",color:"secondary",disabled:0===r.length,component:"span",className:e.button,onClick:function(){return function(e,t){be(e).then((function(e){t(De(e.allTransactions)),t({type:"UN_CHECK_ALL_TRANSACTIONS"}),t(ee(e.statusText)),setTimeout((function(){return t({type:"HIDE_SUCCESS",payload:{message:""}})}),4e3)})).catch((function(e){t(Q("Could not delete the Transactions.",e.message))}))}(r,t)},children:"Delete Transactions"})})]})},St=n(10),Et=n(645),Tt=n(663),Nt=function(e){var t=e.handleChange,n=e.currentCategory,r=Object(a.useState)("0"),c=Object(l.a)(r,2),o=c[0],i=c[1],u=Object(s.c)((function(e){return e.categoryReducer})),d=u.incomeCategories,j=u.expenseCategories,b=u.noneCategory,O=Object(s.b)(),p=function(e){if(e)return e.map((function(e){return Object(k.jsx)("option",{value:e._id,children:e.name},e._id)}));O(Q("Loading categories dropdown for transactions failed.","No categories found."))};return Object(a.useEffect)((function(){i("string"===typeof n?n:n._id)})),Object(k.jsx)(Et.a,{children:Object(k.jsxs)(Tt.a,{native:!0,value:o,id:"categories-dropdown",onChange:t,children:[Object(k.jsx)("option",{value:b._id,children:"NONE"}),Object(k.jsx)("optgroup",{label:"Income",children:p(d)}),Object(k.jsx)("optgroup",{label:"Expense",children:p(j)})]})})},It=Object(A.a)({dropdown:{marginTop:"1rem",padding:"0.5%"},gridItem:{padding:"0.5%"},root:{display:"flex",flexDirection:"row",width:"100%"},field:{width:"100%"},button:{height:"100%",width:"100%"}}),kt=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.categoryReducer})).noneCategory,n=Object(a.useState)({amount:"",date:"",description:"",name:""}),r=Object(l.a)(n,2),c=r[0],o=r[1],i=c.date,u=c.name,d=c.description,j=c.amount,b=Object(a.useState)(!1),O=Object(l.a)(b,2),p=O[0],h=O[1],m=Object(a.useState)(t._id),f=Object(l.a)(m,2),x=f[0],g=f[1],y=It(),v=function(e){o(Object(W.a)(Object(W.a)({},c),{},Object(St.a)({},e.target.name,e.target.value)))},w=function(){var n=Object(E.a)(S.a.mark((function n(a){var r,c;return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a.preventDefault(),r=-1,n.prev=2,r=parseFloat(j),n.next=6,ae.validate({amount:r,category:x,date:i,description:d,name:u});case 6:n.next=14;break;case 8:return n.prev=8,n.t0=n.catch(2),h(!0),e(Q("Could not add new Transaction",n.t0.message)),setTimeout((function(){e(Z())}),4e3),n.abrupt("return");case 14:return c=new Date(i).toISOString(),n.next=17,Oe({amount:r,category:x,date:c,description:d,name:u}).then((function(n){var a;e(ee(n.statusText)),e((a=Object(W.a)({},n.addedItem),{payload:Object(W.a)(Object(W.a)({},ke),{},{addedItem:a}),type:"APPEND_TRANSACTION"})),setTimeout((function(){e({type:"HIDE_SUCCESS",payload:{message:""}})}),4e3),o({name:"",description:"",amount:"",date:""}),g(t._id)})).catch((function(t){e(Q("Could not add new transaction to database",t.message))}));case 17:case"end":return n.stop()}}),n,null,[[2,8]])})));return function(e){return n.apply(this,arguments)}}();return Object(k.jsx)(G.a,{container:!0,spacing:2,children:Object(k.jsxs)("form",{encType:"multipart/form-data",className:y.root,onSubmit:w,children:[Object(k.jsx)(G.a,{item:!0,xs:2,className:y.gridItem,children:Object(k.jsx)(q.a,{error:p,label:"Date ( DD/MM/YYYY )",name:"date",className:y.field,value:c.date,onChange:v})}),Object(k.jsx)(G.a,{item:!0,xs:2,className:y.gridItem,children:Object(k.jsx)(q.a,{error:p,label:"Name",name:"name",className:y.field,value:c.name,onChange:v})}),Object(k.jsx)(G.a,{item:!0,xs:5,className:y.gridItem,children:Object(k.jsx)(q.a,{error:p,label:"Description",name:"description",className:y.field,value:c.description,onChange:v})}),Object(k.jsx)(G.a,{item:!0,xs:1,className:y.gridItem,children:Object(k.jsx)(q.a,{error:p,label:"Amount",name:"amount",className:y.field,value:c.amount,onChange:v})}),Object(k.jsx)(G.a,{item:!0,xs:1,className:y.dropdown,children:Object(k.jsx)(Nt,{currentCategory:x,handleChange:function(e){if(null!==e.target){var t=e.target.value;g(t)}}})}),Object(k.jsx)(G.a,{item:!0,xs:1,className:y.gridItem,children:Object(k.jsx)(z.a,{className:y.button,type:"submit",variant:"contained",color:"primary",children:"Add"})})]})})},_t=n(669),Dt=Object(A.a)({root:{border:"solid",borderWidth:"1px",textAlign:"center"}}),At=function(e){var t=Dt(),n=Object(s.b)(),a=Object(s.c)((function(e){return e.transactionReducer}));return Object(k.jsx)("div",{children:Object(k.jsxs)(G.a,{container:!0,children:[Object(k.jsxs)(G.a,{container:!0,item:!0,xs:2,children:[Object(k.jsx)(G.a,{item:!0,xs:2,children:Object(k.jsx)(_t.a,{onChange:function(t){t.target.checked?n({payload:{transactions:a},type:"CHECK_ALL_TRANSACTIONS"}):n({type:"UN_CHECK_ALL_TRANSACTIONS"}),e.checkAll((function(e){return!e}))}})}),Object(k.jsx)(G.a,{item:!0,xs:10,className:t.root,children:Object(k.jsx)("p",{children:"Date"})})]}),Object(k.jsx)(G.a,{item:!0,xs:2,className:t.root,children:Object(k.jsx)("p",{children:"Name"})}),Object(k.jsx)(G.a,{item:!0,xs:6,className:t.root,children:Object(k.jsx)("p",{children:"Description"})}),Object(k.jsx)(G.a,{item:!0,xs:1,className:t.root,children:Object(k.jsx)("p",{children:"Amount"})}),Object(k.jsx)(G.a,{item:!0,xs:1,className:t.root,children:Object(k.jsx)("p",{children:"Category"})})]})})},Rt=Object(A.a)({root:{textAlign:"center"}}),Lt=function(e){var t=e.data,n=t.date,r=t.name,c=t.description,o=t.amount,i=t.category,u=t._id,d=Rt(),j=Object(a.useState)("1"),b=Object(l.a)(j,2),O=b[0],p=b[1],h=Object(a.useState)(!1),m=Object(l.a)(h,2),f=m[0],x=m[1],g=Object(s.b)();Object(a.useEffect)((function(){p("string"!==typeof i?i._id:i)}),[i,O]);var y=function(){var e=Object(E.a)(S.a.mark((function e(t){var n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===t.target){e.next=4;break}return n=t.target.value,e.next=4,pe(n,u).then((function(e){p(n),g(_e(r,n))})).catch((function(e){g(Q("Couldn't update transaction category.",e.message))}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=new Date(n).toLocaleDateString().split("/"),w=Object(l.a)(v,3),C=w[0],T=w[1],N=w[2];return Object(k.jsxs)(G.a,{container:!0,className:d.root,children:[Object(k.jsxs)(G.a,{container:!0,item:!0,xs:2,children:[Object(k.jsx)(G.a,{item:!0,xs:2,children:Object(k.jsx)(_t.a,{onChange:function(e){e.target.checked?(x(!0),g({payload:{transactionId:u},type:"CHECK_TRANSACTION"})):(x(!1),g(function(e){return{payload:e,type:"UN_CHECK_TRANSACTION"}}({transactionId:u})))},checked:e.isAllChecked||f})}),Object(k.jsx)(G.a,{item:!0,xs:10,children:Object(k.jsx)("p",{children:T.concat("/").concat(C).concat("/").concat(N)})})]}),Object(k.jsx)(G.a,{item:!0,xs:2,children:Object(k.jsx)("p",{children:r})}),Object(k.jsx)(G.a,{item:!0,xs:6,children:Object(k.jsx)("p",{children:c})}),Object(k.jsx)(G.a,{item:!0,xs:1,children:Object(k.jsx)("p",{children:o})}),Object(k.jsx)(G.a,{item:!0,xs:1,children:Object(k.jsx)(Nt,{handleChange:y,currentCategory:i})})]})},Ft=function(){var e=Object(s.c)((function(e){return e.transactionReducer})),t=Object(a.useState)(!1),n=Object(l.a)(t,2),r=n[0],c=n[1];return Object(k.jsxs)(G.a,{container:!0,spacing:1,children:[Object(k.jsx)(G.a,{item:!0,xs:12,children:Object(k.jsx)(At,{checkAll:c})}),e.map((function(e){return Object(k.jsx)(G.a,{item:!0,xs:12,children:Object(k.jsx)(Lt,{data:e,isAllChecked:r})},e._id)}))]})},Ut=n(351),Ht=n.n(Ut),Pt=Object(A.a)({root:{display:"flex",flexDirection:"row",padding:"0.5rem"},searchBar:{width:"100%"},searchIcon:{width:"50px",textAlign:"center",alignSelf:"center"}}),Gt=function(){var e=Pt(),t=Object(a.useState)(""),n=Object(l.a)(t,2),r=n[0],c=n[1];return Object(k.jsxs)("div",{className:e.root,children:[Object(k.jsx)(q.a,{id:"filled-basic",label:"Search Transactions",name:"transactionSearchField",onChange:function(e){c(e.target.value)},value:r,className:e.searchBar}),Object(k.jsx)("div",{className:e.searchIcon,children:Object(k.jsx)(Ht.a,{})})]})},Wt=Object(A.a)({root:{padding:"0.7rem"}}),Bt=function(){var e=Wt(),t=Object(s.b)();return Object(a.useEffect)((function(){t(ve({bannerTitle:"Transactions"}))}),[]),Object(k.jsx)(B.a,{boxShadow:2,className:e.root,children:Object(k.jsxs)(G.a,{container:!0,spacing:1,children:[Object(k.jsx)(G.a,{item:!0,xs:12,children:Object(k.jsx)(Ct,{})}),Object(k.jsx)(G.a,{item:!0,xs:12,children:Object(k.jsx)(kt,{})}),Object(k.jsx)(G.a,{item:!0,xs:12,children:Object(k.jsx)(Gt,{})}),Object(k.jsx)(Ft,{})]})})},qt=Object(A.a)({root:{backgroundColor:"#3f51b5",textAlign:"left",padding:"20px",fontSize:20,color:"whitesmoke",justifyContent:"space-between",display:"flex",flexDirection:"row"},buttons:{display:"flex",flexDirection:"row",width:"12%",marginRight:"2%",justifyContent:"space-between",fontSize:"16px"}}),zt=function(){var e=Object(s.b)(),t=qt(),n=Object(s.c)((function(e){return e.userReducer})).username,a=Object(s.c)((function(e){return e.bannerReducer})).bannerTitle;return Object(k.jsxs)(B.a,{className:t.root,boxShadow:4,children:[a,Object(k.jsxs)("div",{className:t.buttons,children:[Object(k.jsx)("div",{children:Object(k.jsx)(h.a,{variant:"contained",onClick:function(){localStorage.removeItem("token"),e({type:"SET_USER_LOGGED_OUT",payload:{username:"",isLoggedIn:!1}})},children:"Log out"})}),Object(k.jsx)("div",{children:Object(k.jsx)("p",{children:n})})]})]})},Kt=n(355),Mt=n.n(Kt),Yt=n(352),Jt=n.n(Yt),Vt=n(354),Xt=n.n(Vt),$t=n(353),Qt=n.n($t),Zt=Object(A.a)({root:{border:0,borderRadius:3,boxShadow:"0 3px 5px 2px rgb(148 124 129 / 11%)",color:"white",height:48,padding:"0 30px",width:"100%",fontSize:"0.8rem"}}),en=function(e){var t=e.text,n=e.icon,a=Zt();return Object(k.jsxs)(z.a,{className:a.root,variant:"contained",color:"primary",children:[n,t]})},tn=Object(A.a)({link:{textDecoration:"none"},root:{background:"linear-gradient(180deg , #3f51b5 30%, rgb(0 0 0 / 0%) 100%)",height:"80vh",width:"10%"}}),nn=function(){var e=tn();return Object(k.jsx)("nav",{className:e.root,children:Object(k.jsxs)(G.a,{container:!0,spacing:0,children:[Object(k.jsx)(G.a,{item:!0,xs:12,md:12,children:Object(k.jsx)(i.b,{to:"/dashboard",className:e.link,children:Object(k.jsx)(en,{text:"Dashboard",icon:Object(k.jsx)(Jt.a,{})})})}),Object(k.jsx)(G.a,{item:!0,xs:12,md:12,children:Object(k.jsx)(i.b,{to:"/transactions",className:e.link,children:Object(k.jsx)(en,{text:"Transactions",icon:Object(k.jsx)(Qt.a,{})})})}),Object(k.jsx)(G.a,{item:!0,xs:12,md:12,children:Object(k.jsx)(i.b,{to:"/categories",className:e.link,children:Object(k.jsx)(en,{text:"Categories",icon:Object(k.jsx)(Xt.a,{})})})}),Object(k.jsx)(G.a,{item:!0,xs:12,md:12,children:Object(k.jsx)(i.b,{to:"/reports",className:e.link,children:Object(k.jsx)(en,{text:"Reports",icon:Object(k.jsx)(Mt.a,{})})})})]})})},an=Object(A.a)({root:{boxSizing:"border-box",display:"flex",flexDirection:"column"},frameStyles:{margin:"3rem",width:"100%"},content:{display:"flex",flexDirection:"row"}});var rn=function(){Object(R.a)("Categorizer");var e=an(),t=(Object(d.f)(),Object(s.b)()),n=Object(s.c)((function(e){return e.userReducer})).isLoggedIn,r=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)([]),o=Object(l.a)(c,2),i=o[0],u=o[1],d=Object(a.useState)({_id:"",budget:0,name:"",type:""}),j=Object(l.a)(d,2),b=j[0],O=j[1],p=!1,h=Object(s.b)();return Object(a.useEffect)((function(){function e(){return(e=Object(E.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y().then((function(e){r(Object(Ee.a)(e.incomeCategories)),u(Object(Ee.a)(e.expenseCategories)),O(e.noneCategory)})).catch((function(e){p=!0,h(Q("Error making API request to database.",e.message))}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),{incomeCategories:n,expenseCategories:i,noneCategory:b,categoryError:p}}(),c=r.incomeCategories,o=r.expenseCategories,u=r.noneCategory,j=r.categoryError,b=Ie(),O=b.transactionsList,p=b.error;return Object(a.useEffect)((function(){var e;j||p||!n||(t((e={expenseCategories:o,incomeCategories:c,noneCategory:u},{type:"LOAD_CATEGORIES",payload:Object(W.a)(Object(W.a)({},V),{},{allCategories:Object(W.a)({},e)})})),t(De(O)))}),[o,c,O]),Object(k.jsxs)("div",{className:e.root,children:[n&&Object(k.jsx)(zt,{}),Object(k.jsx)("div",{className:e.content,children:n?Object(k.jsxs)(i.a,{children:[Object(k.jsx)(nn,{}),Object(k.jsxs)("div",{className:e.frameStyles,children:[Object(k.jsx)(Ot,{}),Object(k.jsx)(gt,{}),Object(k.jsx)(mt,{}),Object(k.jsxs)(d.c,{children:[Object(k.jsx)(d.a,{exact:!0,path:"/dashboard",component:it}),Object(k.jsx)(d.a,{exact:!0,path:"/transactions",component:Bt}),Object(k.jsx)(d.a,{exact:!0,path:"/categories",component:we}),Object(k.jsx)(d.a,{exact:!0,path:"/reports",component:yt})]})]})]}):Object(k.jsx)(i.a,{children:Object(k.jsx)(d.c,{children:Object(k.jsx)(d.a,{exact:!0,path:"/login",component:P})})})})]})},cn=function(){var e=Object(s.b)(),t=Object(d.f)();return Object(s.c)((function(e){return e.userReducer})).isLoggedIn||function(){var e=localStorage.getItem("token");return fetch("/isUserAuth",{headers:{"x-access-token":e}}).then((function(e){if(200===e.status)return e.json();throw new Error})).then((function(e){return{tokenValid:!0,username:e.username}})).catch((function(e){return{tokenValid:!1,username:""}}))}().then((function(n){n.tokenValid?(e(U({isLoggedIn:!0,username:n.username})),t.push("/")):t.push("/login")})).catch((function(e){console.error(e.message)})),Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)(d.c,{children:[Object(k.jsx)(d.a,{exact:!0,path:"/",component:rn}),Object(k.jsx)(d.a,{exact:!0,path:"/login",component:P}),Object(k.jsx)(d.a,{exact:!0,path:"/register",component:D})]})})},on=(n(568),{bannerTitle:""}),sn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:on,t=arguments.length>1?arguments[1]:void 0;return"SET_BANNER_TITLE"===t.type?{bannerTitle:t.payload.bannerTitle}:Object(W.a)({},e)},un={expenseCategories:[],incomeCategories:[],noneCategory:{_id:"",budget:0,name:"",type:""}},dn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(W.a)({},un),t=arguments.length>1?arguments[1]:void 0;switch(t.type){default:return Object(W.a)({},e);case"LOAD_CATEGORIES":return Object(W.a)(Object(W.a)({},e),t.payload.allCategories);case"DELETE_CATEGORY":return Object(W.a)(Object(W.a)({},e),{},{incomeCategories:e.incomeCategories.filter((function(e){return e._id!==t.payload.category_id})),expenseCategories:e.expenseCategories.filter((function(e){return e._id!==t.payload.category_id}))});case"ADD_INCOME_CATEGORY":return Object(W.a)(Object(W.a)({},e),{},{incomeCategories:[].concat(Object(Ee.a)(e.incomeCategories),[t.payload.newCategory])});case"ADD_EXPENSE_CATEGORY":return Object(W.a)(Object(W.a)({},e),{},{expenseCategories:[].concat(Object(Ee.a)(e.expenseCategories),[t.payload.newCategory])})}},ln={endDateISO:new Date("01.01.2021").toISOString(),key:"selection",startDateISO:new Date("01.01.1970").toISOString()},jn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ln,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;return"CHANGE_DATERANGE"===n?Object(W.a)(Object(W.a)({},e),a):e},bn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{showError:!1,message:null,title:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){default:return e;case"SHOW_ERROR":var n=t.payload.message,a=t.payload.title;return{showError:!0,title:a,message:n};case"HIDE_ERROR":return{showError:!1,message:null,title:null}}},On=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{showInfo:!1,message:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){default:return e;case"SHOW_INFO":return{showInfo:!0,message:t.payload};case"HIDE_INFO":return{showInfo:!1,message:""}}},pn=function(){var e=arguments.length>1?arguments[1]:void 0;return"SHOW_LOADING"===e.type?{loading:!0}:{loading:!1}},hn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{showSuccess:!1,message:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){default:return e;case"SHOW_SUCCESS":return{showSuccess:!0,message:t.payload.message};case"HIDE_SUCCESS":return{showSuccess:!1,message:null}}},mn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){default:return Object(Ee.a)(e);case"CHECK_TRANSACTION":return[].concat(Object(Ee.a)(e),[t.payload.transactionId]);case"CHECK_ALL_TRANSACTIONS":var n=t.payload.transactions.map((function(e){return e._id}));return[].concat(Object(Ee.a)(e),Object(Ee.a)(n));case"UN_CHECK_TRANSACTION":return e.filter((function(e){return e!==t.payload.transactionId}));case"UN_CHECK_ALL_TRANSACTIONS":return[]}},fn=[],xn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){default:return Object(Ee.a)(e);case"LOAD_TRANSACTIONS":return Object(Ee.a)(t.payload.allTransactions);case"UPDATE_TRANSACTIONS_CAT":var n=t.payload.transactionName,a=t.payload.newCategoryId;return e.map((function(e){return e.name===n?Object(W.a)(Object(W.a)({},e),{},{category:a}):Object(W.a)({},e)}));case"APPEND_TRANSACTION":return e.push(t.payload.addedItem),Object(Ee.a)(e)}},gn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoggedIn:!1,username:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){default:return Object(W.a)({},e);case"SET_USER_LOGGED_IN":return Object(W.a)({},t.payload);case"SET_USER_LOGGED_OUT":return{username:"",isLoggedIn:!1}}},yn=Object(u.a)({bannerReducer:sn,categoryReducer:dn,dateFilterReducer:jn,errorReducer:bn,infoReducer:On,loadingReducer:pn,successReducer:hn,transactionCheckboxReducer:mn,transactionReducer:xn,userReducer:gn}),vn=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,684)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),c(e),o(e)}))},wn=Object(u.b)(yn);o.a.render(Object(k.jsx)(s.a,{store:wn,children:Object(k.jsx)(r.a.StrictMode,{children:Object(k.jsx)(i.a,{children:Object(k.jsx)(cn,{})})})}),document.getElementById("root")),vn()}},[[569,1,2]]]);
//# sourceMappingURL=main.e3a17a14.chunk.js.map